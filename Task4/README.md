### Задание 4

> ###### Ultra-Violence

Реализуй одно или несколько дополнительных требований для третьего задания:
1. Авторизация/регистрация
    + 1 По логину/паролю
    + 2 Через одну из соц. сетей

2. Управление своими "пастами": пользователь может получить информацию о всех своих "пастах" и изменять уровень доступа к ним, включая новый уровень "private" — "паста" с таким уровнем доступна только автору

3. Поиск по названию и/или тексту "паст", с учётом ограничений доступа

4. Покрой код модульными и интеграционными тестами > 50%

5. Упакуй решение в Docker-контейнер

## Описание

Реализовал: 1(Через google), 2(изменение уровня доступа работает не так), 3, 5 пункты

## Инструкция

1. В `docker-compose.yml` настроить:
    + OAuth 2.
    ```
    Идентификатор и секретный ключ получает тут -> https://console.cloud.google.com/
    security.oauth2.client.clientId=Идентификатор
    security.oauth2.client.clientSecret=Секретный ключ
    ```

2. docker-compose up -d

## Описание

Таблица 1. Запросы

| Тип запроса   | Название запроса                      | Метод                     | Параметры                     |
| ------------- | ------------------------------------- | :------------------------ | :-----------:                 |     
|   GET         | Получить список паст                  | /api                      |      -                        |
|   POST        | Добавить новую пасту                  | /api                      |  Таблица 2                    |
|   GET         | Получить паст пусту по хэшу           | /api/{hash}               | pasta_token                   |
|   POST        | Поиск паст по названию и/или тексту   | /api/search               |    text                       |
|   GET         | Получить список моих паст             | /api/my_pasta             | pasta_token                   |
|   PUT         | Обновляет уровень доступа к пасте     | /api/{hash}               | pasta_token, pasta_private    |
|   GET         | Вход через Google                     | /login                    |     -                         |
|   GET         | Выход из аккаунта                     | /logout                   |     -                         |
|   GET         | Получить токен                        | /account/get_token        |     -                         |


Таблица 2. Параметры для добавление пасты

| Параметр          | Описание              | Тип       | Допустимые значения   | Значения по умолчанию | Обязательный  |
| ----------------- | --------------------- | --------- | :-------------------: | :-------------------: | :-----------: |
| pasta_private     | Ограничение доступа   | Int       |       Таблица 4       |           -           |       +       |
| pasta_expire_date | Время доступа         | String    |       Таблица 3       |           -           |       +       |
| pasta_text        | Текст                 | String    |                       |           -           |       +       |
| pasta_title       | Заголосок             | String    |                       |       Untitled        |       -       |
| pasta_token       | Токен                 | String    |                       |           -           |       -       |
 
Таблица 3. Значение времени жизни пасты
 
| Значение  | Описание          |
| :-------: | :---------------  |
|   10M     | 10 мин            |
|   1H      | 1 час             |
|   3H      | 3 часа            |
|   1D      | 1 день            |
|   1W      | 1 неделя          |
|   1M      | 1 месяц           |
|   N       | без ограничения   |
 
Таблица 4. Значение доступа к пасте
 
| Значение  | Доступ    | Описание                  |
| --------- | --------- | :-----------------------: |
|     0     | public    | доступна всем             |
|     1     | unlisted  | доступна только по ссылке |
|     2     | private   | доступно только мне       |

Таблица 5. Ошибки

| Название                                      | Описание                                       |
| :-------------------------------------------- | :--------------------------------------------- |
| Bad API request, invalid pasta_private        | Неправильное значение                          |
| Bad API request, invalid pasta_expire_date    | Неправильное значение                          |
| Bad API request, pasta_text was empty         | Пустое значение                                |
| Bad API request, pasta not found              | Неправильный хэш/вышло время доступа к пасте   |
| Bad API request, invalid pasta_token          | Не передан токен/Неправильный токен            |
| Bad API request, {параметр}                   | Не передан параметр                            |
| User is not authorized                        | Пользователь не авторизирован                  |
